<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
		<link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser

		var inboxCount = document.createElement('div');
		inboxCount.id = 'iCount';
		// inboxCount.innerHTML = 'Inbox Count: ' + geemails.length;
		inboxCount.innerHTML = ' ';
		document.body.appendChild(inboxCount);

		for(var i = 0; i<geemails.length; i++){

		var mainDiv = document.createElement('div');
  		mainDiv.className = 'bodyMsg';
  		mainDiv.innerHTML = " ";
  		mainDiv.addEventListener('click', showMsg);
		document.body.appendChild(mainDiv);

		var senderBox = document.createElement('div');
		senderBox.className = 'sender';
		senderBox.innerHTML = 'Sender: ' + geemails[i].sender + ' ';
		mainDiv.appendChild(senderBox);
		
		var dateBox = document.createElement('div');
		dateBox.className = 'date';
		dateBox.innerHTML = 'Date: ' + geemails[i].date + ' ';
		mainDiv.appendChild(dateBox);

  		var subjectBox = document.createElement('div');
  		subjectBox.className = 'subject';
  		subjectBox.innerHTML = 'Subject: ' + geemails[i].subject + ' ';
  		mainDiv.appendChild(subjectBox);

		var bodyBox = document.createElement('div');
		bodyBox.className = 'body';
		bodyBox.innerHTML = 'Body: ' + geemails[i].body;
		mainDiv.appendChild(bodyBox);

// 		function bodyLength() {
//     	var bLength = document.getElementsByClassName("bodyMsg");
//     	document.getElementById("iCount").innerHTML = 'Inbox Count: ' + bLength.length;
// 		}
// bodyLength();
 }

 		function showMsg(){
			var bElem = this.querySelectorAll('.body')[0];
 			if (bElem.style.display === 'block'){
   				bElem.style.display = 'none';
			}else{
   				bElem.style.display = 'block';

			}
		}

    function newMsgs() {

		// var eCount = geemails.length++;
		// var eMail = document.getElementById('iCount');
		// eMail.className = 'newCount';
		// eMail.innerHTML = 'Inbox Count: ' + ++eCount;
		// countThis.appendChild(eMail);

		var bLength = document.getElementsByClassName("bodyMsg");
		// document.getElementById("iCount").innerHTML = 'Inbox Count: ' + bLength.length++;
		var bL1 = ++bLength.length;
		console.log(bL1);
		bLength.className = 'revisedCount';
		bLength.innerHTML = 'Inbox Count: ' + bL1;
		inboxCount.appendChild(bLength);

		// var revCount = document.getElementsByClassName('subject');
		// var revC1 = .subject.length++;
		// revCount.className = 'revisedCount';
		// revCount.innerHTML = 'Inbox Count: ' + revC1;
		// inboxCount.appendChild(revCount);

		// console.log(subject[i].length);

		var nMsg = document.createElement('div');
		nMsg.className = 'newMsgPar';
		nMsg.innerHTML = ' ';
		nMsg.addEventListener('click', showMsgB);
		document.body.appendChild(nMsg);
			
		var seObj = document.createElement('div');
		var sen1 = getNewMessage().sender;
		seObj.className = 'senObj';
		seObj.innerHTML = 'Sender: ' + sen1 + ' ';
		nMsg.appendChild(seObj);

		var dObj = document.createElement('div');
		var dat1 = getNewMessage().date;
		dObj.className = 'datObj';
		dObj.innerHTML = 'Date: ' + dat1 + ' ';
		nMsg.appendChild(dObj);

		var sObj = document.createElement('div');
		var sub1 = getNewMessage().subject;
		sObj.className = 'subObj';
		sObj.innerHTML = 'Subject: ' + sub1 + ' ';
		nMsg.appendChild(sObj);

		var bObj = document.createElement('div');
		var bod1 = getNewMessage().body;
		bObj.className = 'bodObj';
		bObj.innerHTML = 'Body: ' + bod1 + ' ';
		nMsg.appendChild(bObj);

		function showMsgB(){
			var bElem2 = this.querySelectorAll('.bodObj')[0];
 			if (bElem2.style.display === 'block'){
   				bElem2.style.display = 'none';
			}else{
   				bElem2.style.display = 'block';
			}
		}
	}

setInterval(newMsgs, 3000);

}

		</script>
		<title>feeMail</title>
	</head>
	<body>
		<img src="assets/fm2.png" alt="feeMail" id="logo">
		<div id="countThis">
		</div>
		<div class="container" id="main">
		</div>
	</body>
</html>