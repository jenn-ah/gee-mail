<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
		<link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">
    <script>
      window.onload = function(){

		for(var i = 0; i<geemails.length; i++){

		var mainDiv = document.createElement('div');
  		mainDiv.className = 'bodyMsg';
  		mainDiv.addEventListener('click', showMsg);
		document.body.appendChild(mainDiv);

		var senderBox = document.createElement('div');
		senderBox.className = 'sender';
		senderBox.innerHTML = 'Sender: ' + geemails[i].sender + ' ';
		mainDiv.appendChild(senderBox);
		
		var dateBox = document.createElement('div');
		dateBox.className = 'date';
		dateBox.innerHTML = 'Date: ' + geemails[i].date + ' ';
		mainDiv.appendChild(dateBox);

  		var subjectBox = document.createElement('div');
  		subjectBox.className = 'subject';
  		subjectBox.innerHTML = 'Subject: ' + geemails[i].subject + ' ';
  		mainDiv.appendChild(subjectBox);

		var bodyBox = document.createElement('div');
		bodyBox.className = 'body';
		bodyBox.innerHTML = 'Body: ' + geemails[i].body;
		mainDiv.appendChild(bodyBox);

 }

		var bLength = document.getElementsByClassName("bodyMsg");
		var inboxCount = document.createElement('div');
		inboxCount.id = 'iCount';
		inboxCount.innerHTML = 'Inbox Count: ' + bLength.length;
		countThis.appendChild(inboxCount);


 		function showMsg(){
			var bElem = this.querySelectorAll('.body')[0];
 			if (bElem.style.display === 'block'){
   				bElem.style.display = 'none';
			}else{
   				bElem.style.display = 'block';

			}
		}


    function newMsgs() {

		var incMe = bLength.length++;
		var useMe = document.getElementById('iCount');
		useMe.innerHTML = 'Inbox Count: ' + ++incMe;
		countThis.appendChild(useMe);

		var nMsg = document.createElement('div');
		nMsg.className = 'bodyMsg';
		nMsg.addEventListener('click', showMsgB);
		document.body.appendChild(nMsg);
			
		var seObj = document.createElement('div');
		var newM = getNewMessage();
		seObj.className = 'senObj';
		seObj.innerHTML = 'Sender: ' + newM.sender + ' ';
		nMsg.appendChild(seObj);

		var dObj = document.createElement('div');
		dObj.className = 'datObj';
		dObj.innerHTML = 'Date: ' + newM.date + ' ';
		nMsg.appendChild(dObj);

		var sObj = document.createElement('div');
		sObj.className = 'subObj';
		sObj.innerHTML = 'Subject: ' + newM.subject + ' ';
		nMsg.appendChild(sObj);

		var bObj = document.createElement('div');
		bObj.className = 'bodObj';
		bObj.innerHTML = 'Body: ' + newM.body + ' ';
		nMsg.appendChild(bObj);

		function showMsgB(){
			var bElem2 = this.querySelectorAll('.bodObj')[0];
 			if (bElem2.style.display === 'block'){
   				bElem2.style.display = 'none';
			}else{
   				bElem2.style.display = 'block';
			}
		}
	}
		

setInterval(newMsgs, 3000);

}

		</script>
		<title>feeMail</title>
	</head>
	<body>
		<img src="assets/fm2.png" alt="feeMail" id="logo">
		<div id="countThis">
		</div>
		<div class="container" id="main">
		</div>
	</body>
</html>